{"version":3,"sources":["client\\reducer\\modules\\group.js"],"names":["fetchGroupMsg","addMember","delMember","changeMemberRole","changeGroupMsg","updateGroupList","deleteGroup","fetchGroupMemberList","fetchGroupList","setCurrGroup","FETCH_GROUP_LIST","SET_CURR_GROUP","FETCH_GROUP_MEMBER","FETCH_GROUP_MSG","ADD_GROUP_MEMBER","DEL_GROUP_MEMBER","CHANGE_GROUP_MEMBER","CHANGE_GROUP_MESSAGE","UPDATE_GROUP_LIST","DEL_GROUP","initialState","groupList","currGroup","group_name","group_desc","custom_field1","name","enable","field","member","role","state","action","type","payload","data","console","log","id","axios","get","params","param","post","group","_id"],"mappings":"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","file":"group.js","sourceRoot":"C:/Users/DUOYI/Desktop/api/test/vendors","sourcesContent":["import axios from 'axios';\n\n// Actions\nconst FETCH_GROUP_LIST = 'yapi/group/FETCH_GROUP_LIST';\nconst SET_CURR_GROUP = 'yapi/group/SET_CURR_GROUP';\nconst FETCH_GROUP_MEMBER = 'yapi/group/FETCH_GROUP_MEMBER';\nconst FETCH_GROUP_MSG = 'yapi/group/FETCH_GROUP_MSG';\nconst ADD_GROUP_MEMBER = 'yapi/group/ADD_GROUP_MEMBER';\nconst DEL_GROUP_MEMBER = 'yapi/group/DEL_GROUP_MEMBER';\nconst CHANGE_GROUP_MEMBER = 'yapi/group/CHANGE_GROUP_MEMBER';\nconst CHANGE_GROUP_MESSAGE = 'yapi/group/CHANGE_GROUP_MESSAGE';\nconst UPDATE_GROUP_LIST = 'yapi/group/UPDATE_GROUP_LIST';\nconst DEL_GROUP = 'yapi/group/DEL_GROUP';\n\n// Reducer\nconst initialState = {\n  groupList: [],\n  currGroup: {\n    group_name: '',\n    group_desc: '',\n    custom_field1: {\n      name: '',\n      enable: false\n    }\n  },\n  field: {\n    name: '',\n    enable: false\n  },\n  member: [],\n  role: ''\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_GROUP_LIST: {\n      return {\n        ...state,\n        groupList: action.payload.data.data\n      };\n    }\n    case UPDATE_GROUP_LIST: {\n      return {\n        ...state,\n        groupList: action.payload\n      };\n    }\n    case SET_CURR_GROUP: {\n      return {\n        ...state,\n        currGroup: action.payload.data.data\n      };\n    }\n    case FETCH_GROUP_MEMBER: {\n      return {\n        ...state,\n        member: action.payload.data.data\n      };\n    }\n    case FETCH_GROUP_MSG: {\n      console.log(action.payload)\n      // const {role,group_name,group_desc,} = action.payload.data.data\n      return {\n        ...state,\n        role: action.payload.data.data.role,\n        currGroup: action.payload.data.data,\n        field: {\n          name: action.payload.data.data.custom_field1.name,\n          enable: action.payload.data.data.custom_field1.enable\n        }\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\n// 获取 group 信息 (权限信息)\nexport function fetchGroupMsg(id) {\n  return {\n    type: FETCH_GROUP_MSG,\n    payload: axios.get('/api/group/get', {\n      params: { id }\n    })\n  };\n}\n\n// 添加分组成员\nexport function addMember(param) {\n  return {\n    type: ADD_GROUP_MEMBER,\n    payload: axios.post('/api/group/add_member', param)\n  };\n}\n\n// 删除分组成员\nexport function delMember(param) {\n  return {\n    type: DEL_GROUP_MEMBER,\n    payload: axios.post('/api/group/del_member', param)\n  };\n}\n\n// 修改分组成员权限\nexport function changeMemberRole(param) {\n  return {\n    type: CHANGE_GROUP_MEMBER,\n    payload: axios.post('/api/group/change_member_role', param)\n  };\n}\n\n// 修改分组信息\nexport function changeGroupMsg(param) {\n  return {\n    type: CHANGE_GROUP_MESSAGE,\n    payload: axios.post('/api/group/up', param)\n  };\n}\n\n// 更新左侧的分组列表\nexport function updateGroupList(param) {\n  return {\n    type: UPDATE_GROUP_LIST,\n    payload: param\n  };\n}\n\n// 删除分组\nexport function deleteGroup(param) {\n  return {\n    type: DEL_GROUP,\n    payload: axios.post('/api/group/del', param)\n  };\n}\n\n// 获取分组成员列表\nexport function fetchGroupMemberList(id) {\n  return {\n    type: FETCH_GROUP_MEMBER,\n    payload: axios.get('/api/group/get_member_list', {\n      params: { id }\n    })\n  };\n}\n\n// Action Creators\nexport function fetchGroupList() {\n  return {\n    type: FETCH_GROUP_LIST,\n    payload: axios.get('/api/group/list')\n  };\n}\n\nexport function setCurrGroup(group) {\n  return {\n    type: SET_CURR_GROUP,\n    payload: axios.get('/api/group/get', {\n      params: { id: group._id }\n    })\n  };\n}\n"]}