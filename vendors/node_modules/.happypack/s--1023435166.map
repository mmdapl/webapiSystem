{"version":3,"sources":["client\\reducer\\modules\\interface.js"],"names":["id","axios","post","result","type","DELETE_INTERFACE_DATA","payload","deleteInterfaceData","data","SAVE_IMPORT_DATA","saveImportData","catid","DELETE_INTERFACE_CAT_DATA","deleteInterfaceCatData","interfaceId","get","FETCH_INTERFACE_DATA","fetchInterfaceData","projectId","FETCH_INTERFACE_LIST_MENU","fetchInterfaceListMenu","params","paramsSerializer","qs","stringify","indices","FETCH_INTERFACE_LIST","fetchInterfaceList","FETCH_INTERFACE_CAT_LIST","fetchInterfaceCatList","changeEditStatus","initInterface","updateInterfaceData","INIT_INTERFACE_DATA","UPDATE_INTERFACE_DATA","CHANGE_EDIT_STATUS","initialState","curdata","list","editStatus","totalTableList","catTableList","count","totalCount","state","action","updata","status"],"mappings":"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","file":"interface.js","sourceRoot":"C:/Users/DUOYI/Desktop/api/test/vendors","sourcesContent":["import axios from 'axios';\nimport qs from 'qs';\n// Actions\nconst INIT_INTERFACE_DATA = 'yapi/interface/INIT_INTERFACE_DATA';\nconst FETCH_INTERFACE_DATA = 'yapi/interface/FETCH_INTERFACE_DATA';\nconst FETCH_INTERFACE_LIST_MENU = 'yapi/interface/FETCH_INTERFACE_LIST_MENU';\nconst DELETE_INTERFACE_DATA = 'yapi/interface/DELETE_INTERFACE_DATA';\nconst DELETE_INTERFACE_CAT_DATA = 'yapi/interface/DELETE_INTERFACE_CAT_DATA';\nconst UPDATE_INTERFACE_DATA = 'yapi/interface/UPDATE_INTERFACE_DATA';\nconst CHANGE_EDIT_STATUS = 'yapi/interface/CHANGE_EDIT_STATUS';\nconst FETCH_INTERFACE_LIST = 'yapi/interface/FETCH_INTERFACE_LIST';\nconst SAVE_IMPORT_DATA = 'yapi/interface/SAVE_IMPORT_DATA';\nconst FETCH_INTERFACE_CAT_LIST = 'yapi/interface/FETCH_INTERFACE_CAT_LIST';\n// const SAVE_INTERFACE_PROJECT_ID = 'yapi/interface/SAVE_INTERFACE_PROJECT_ID';\n// const GET_INTERFACE_GROUP_LIST = 'yapi/interface/GET_INTERFACE_GROUP_LIST';\n\n// Reducer\nconst initialState = {\n  curdata: {},\n  list: [],\n  editStatus: false, // 记录编辑页面是否有编辑,\n  totalTableList: [],\n  catTableList: [],\n  count: 0,\n  totalCount: 0\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case INIT_INTERFACE_DATA:\n      return initialState;\n    case UPDATE_INTERFACE_DATA:\n      return {\n        ...state,\n        curdata: Object.assign({}, state.curdata, action.updata)\n      };\n    case FETCH_INTERFACE_DATA:\n      return {\n        ...state,\n        curdata: action.payload.data.data\n      };\n    case FETCH_INTERFACE_LIST_MENU:\n      return {\n        ...state,\n        list: action.payload.data.data\n      };\n    case CHANGE_EDIT_STATUS: {\n      return {\n        ...state,\n        editStatus: action.status\n      };\n    }\n\n    case FETCH_INTERFACE_LIST: {\n      return {\n        ...state,\n        totalTableList: action.payload.data.data.list,\n        totalCount: action.payload.data.data.count\n      };\n    }\n\n    case FETCH_INTERFACE_CAT_LIST: {\n      return {\n        ...state,\n        catTableList: action.payload.data.data.list,\n        count: action.payload.data.data.count\n      };\n    }\n    default:\n      return state;\n  }\n};\n\n// 记录编辑页面是否有编辑\nexport function changeEditStatus(status) {\n  return {\n    type: CHANGE_EDIT_STATUS,\n    status\n  };\n}\n\nexport function initInterface() {\n  return {\n    type: INIT_INTERFACE_DATA\n  };\n}\n\nexport function updateInterfaceData(updata) {\n  return {\n    type: UPDATE_INTERFACE_DATA,\n    updata: updata,\n    payload: true\n  };\n}\n\nexport async function deleteInterfaceData(id) {\n  let result = await axios.post('/api/interface/del', {id: id});\n  return {\n    type: DELETE_INTERFACE_DATA,\n    payload: result\n  };\n}\n\nexport async function saveImportData(data) {\n  let result = await axios.post('/api/interface/save', data);\n  return {\n    type: SAVE_IMPORT_DATA,\n    payload: result\n  };\n}\n\nexport async function deleteInterfaceCatData(id) {\n  let result = await axios.post('/api/interface/del_cat', {catid: id});\n  return {\n    type: DELETE_INTERFACE_CAT_DATA,\n    payload: result\n  };\n}\n\n// Action Creators\nexport async function fetchInterfaceData(interfaceId) {\n  let result = await axios.get('/api/interface/get?id=' + interfaceId);\n  return {\n    type: FETCH_INTERFACE_DATA,\n    payload: result\n  };\n}\n\nexport async function fetchInterfaceListMenu(projectId) {\n  let result = await axios.get('/api/interface/list_menu?project_id=' + projectId);\n  return {\n    type: FETCH_INTERFACE_LIST_MENU,\n    payload: result\n  };\n}\n\nexport async function fetchInterfaceList(params) {\n  let result = await axios.get('/api/interface/list', {\n    params,\n    paramsSerializer: params => {\n      return qs.stringify(params, {indices: false})\n    }\n  })\n  return {\n    type: FETCH_INTERFACE_LIST,\n    payload: result\n  };\n}\n\nexport async function fetchInterfaceCatList(params) {\n  let result = axios.get('/api/interface/list_cat', {\n    params,\n    paramsSerializer: params => {\n      return qs.stringify(params, {indices: false})\n    }\n  })\n  return {\n    type: FETCH_INTERFACE_CAT_LIST,\n    payload: result\n  };\n}\n"]}