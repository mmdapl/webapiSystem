'use strict';

exports.__esModule = true;

var _message2 = require('antd/lib/message');

var _message3 = _interopRequireDefault(_message2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function () {
  return function (next) {
    return function (action) {
      if (!action) {
        return;
      }
      if (action.error) {
        _message3.default.error(action.payload && action.payload.message || '服务器错误');
      } else if (action.payload && action.payload.data && action.payload.data.errcode && action.payload.data.errcode !== 40011) {
        _message3.default.error(action.payload.data.errmsg);
        throw new Error(action.payload.data.errmsg);
      }
      return next(action);
    };
  };
};