{"version":3,"sources":["client\\components\\AuthenticatedComponent.js"],"names":["requireAuthentication","Component","isAuthenticated","state","user","isLogin","changeMenuItem","props","componentWillMount","checkAuth","componentWillReceiveProps","history","push","render","React","PureComponent","propTypes","PropTypes","bool","location","object","dispatch","func"],"mappings":";;;;;;;;;;;;;;;;QAKgBA,qB,GAAAA,qB;;AALhB;;;;AACA;;AACA;;;;AACA;;;;AAEO,SAASA,qBAAT,CAA+BC,SAA/B,EAA0C;AAAA;;AAC/C,gBAAQ,yBACN,iBAAS;AACP,WAAO;AACLC,uBAAiBC,MAAMC,IAAN,CAAWC;AADvB,KAAP;AAGD,GALK,EAMN;AACEC;AADF,GANM,CAAR;AAAA;;AAWE,oCAAYC,KAAZ,EAAmB;AAAA;AAAA,4DACjB,gCAAMA,KAAN,CADiB;AAElB;;AAbH,qCAqBEC,kBArBF,iCAqBuB;AACnB,WAAKC,SAAL;AACD,KAvBH;;AAAA,qCAwBEC,yBAxBF,wCAwB8B;AAC1B,WAAKD,SAAL;AACD,KA1BH;;AAAA,qCA2BEA,SA3BF,wBA2Bc;AACV,UAAI,CAAC,KAAKF,KAAL,CAAWL,eAAhB,EAAiC;AAC/B,aAAKK,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACA,aAAKL,KAAL,CAAWD,cAAX,CAA0B,GAA1B;AACD;AACF,KAhCH;;AAAA,qCAiCEO,MAjCF,qBAiCW;AACP,aAAO;AAAA;AAAA;AAAM,aAAKN,KAAL,CAAWL,eAAX,GAA6B,8BAAC,SAAD,EAAe,KAAKK,KAApB,CAA7B,GAA6D;AAAnE,OAAP;AACD,KAnCH;;AAAA;AAAA,IAUqCO,gBAAMC,aAV3C,WAcSC,SAdT,GAcqB;AACjBd,qBAAiBe,oBAAUC,IADV;AAEjBC,cAAUF,oBAAUG,MAFH;AAGjBC,cAAUJ,oBAAUK,IAHH;AAIjBX,aAASM,oBAAUG,MAJF;AAKjBd,oBAAgBW,oBAAUK;AALT,GAdrB;AAqCD","file":"AuthenticatedComponent.js","sourceRoot":"C:/Users/DUOYI/Desktop/api/test/vendors","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { changeMenuItem } from '../reducer/modules/menu';\n\nexport function requireAuthentication(Component) {\n  return @connect(\n    state => {\n      return {\n        isAuthenticated: state.user.isLogin\n      };\n    },\n    {\n      changeMenuItem\n    }\n  )\n  class AuthenticatedComponent extends React.PureComponent {\n    constructor(props) {\n      super(props);\n    }\n    static propTypes = {\n      isAuthenticated: PropTypes.bool,\n      location: PropTypes.object,\n      dispatch: PropTypes.func,\n      history: PropTypes.object,\n      changeMenuItem: PropTypes.func\n    };\n    componentWillMount() {\n      this.checkAuth();\n    }\n    componentWillReceiveProps() {\n      this.checkAuth();\n    }\n    checkAuth() {\n      if (!this.props.isAuthenticated) {\n        this.props.history.push('/');\n        this.props.changeMenuItem('/');\n      }\n    }\n    render() {\n      return <div>{this.props.isAuthenticated ? <Component {...this.props} /> : null}</div>;\n    }\n  };\n}\n"]}