'use strict';

exports.__esModule = true;

var _keys = require('babel-runtime/core-js/object/keys');

var _keys2 = _interopRequireDefault(_keys);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _tabs = require('antd/lib/tabs');

var _tabs2 = _interopRequireDefault(_tabs);

var _dec, _class, _class2, _temp;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _ProjectMessage = require('./ProjectMessage/ProjectMessage.js');

var _ProjectMessage2 = _interopRequireDefault(_ProjectMessage);

var _index = require('./ProjectEnv/index.js');

var _index2 = _interopRequireDefault(_index);

var _ProjectRequest = require('./ProjectRequest/ProjectRequest');

var _ProjectRequest2 = _interopRequireDefault(_ProjectRequest);

var _ProjectToken = require('./ProjectToken/ProjectToken');

var _ProjectToken2 = _interopRequireDefault(_ProjectToken);

var _index3 = require('./ProjectMock/index.js');

var _index4 = _interopRequireDefault(_index3);

var _reactRedux = require('react-redux');

require('./Setting.scss');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TabPane = _tabs2.default.TabPane;
var plugin = require('../../../plugin.js');

var routers = {};

var Setting = (_dec = (0, _reactRedux.connect)(function (state) {
  return {
    curProjectRole: state.project.currProject.role
  };
}), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(Setting, _Component);

  function Setting() {
    (0, _classCallCheck3.default)(this, Setting);
    return (0, _possibleConstructorReturn3.default)(this, _Component.apply(this, arguments));
  }

  Setting.prototype.render = function render() {
    var id = this.props.match.params.id;
    plugin.emitHook('sub_setting_nav', routers);
    return _react2.default.createElement(
      'div',
      { className: 'g-row' },
      _react2.default.createElement(
        _tabs2.default,
        { type: 'card', className: 'has-affix-footer tabs-large' },
        _react2.default.createElement(
          TabPane,
          { tab: '\u9879\u76EE\u914D\u7F6E', key: '1' },
          _react2.default.createElement(_ProjectMessage2.default, { projectId: +id })
        ),
        _react2.default.createElement(
          TabPane,
          { tab: '\u73AF\u5883\u914D\u7F6E', key: '2' },
          _react2.default.createElement(_index2.default, { projectId: +id })
        ),
        _react2.default.createElement(
          TabPane,
          { tab: '\u8BF7\u6C42\u914D\u7F6E', key: '3' },
          _react2.default.createElement(_ProjectRequest2.default, { projectId: +id })
        ),
        this.props.curProjectRole !== 'guest' ? _react2.default.createElement(
          TabPane,
          { tab: 'token\u914D\u7F6E', key: '4' },
          _react2.default.createElement(_ProjectToken2.default, { projectId: +id, curProjectRole: this.props.curProjectRole })
        ) : null,
        _react2.default.createElement(
          TabPane,
          { tab: '\u5168\u5C40mock\u811A\u672C', key: '5' },
          _react2.default.createElement(_index4.default, { projectId: +id })
        ),
        (0, _keys2.default)(routers).map(function (key) {
          var C = routers[key].component;
          return _react2.default.createElement(
            TabPane,
            { tab: routers[key].name, key: routers[key].name },
            _react2.default.createElement(C, { projectId: +id })
          );
        })
      )
    );
  };

  return Setting;
}(_react.PureComponent), _class2.propTypes = {
  match: _propTypes2.default.object,
  curProjectRole: _propTypes2.default.string
}, _temp)) || _class);
exports.default = Setting;