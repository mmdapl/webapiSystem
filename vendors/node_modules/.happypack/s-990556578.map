{"version":3,"sources":["client\\components\\Notify\\Notify.js"],"names":["Notify","props","state","newVersion","process","env","version","componentDidMount","axios","get","then","req","status","setState","data","error","render","isShow","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;;;IAGqBA,M;;;AACnB,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA,+DACjB,sBAAMA,KAAN,CADiB;;AAEjB,UAAKC,KAAL,GAAa;AACXC,kBAAYC,QAAQC,GAAR,CAAYC,OADb;AAEXA,eAASF,QAAQC,GAAR,CAAYC;AAFV,KAAb;AAFiB;AAMlB;;mBAEDC,iB,gCAAoB;AAAA;;AAClBC,oBAAMC,GAAN,CAAU,uEAAV,EAAmFC,IAAnF,CAAwF,eAAO;AAC7F,UAAIC,IAAIC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,eAAKC,QAAL,CAAc,EAAEV,YAAYQ,IAAIG,IAAJ,CAASA,IAAT,CAAc,CAAd,CAAd,EAAd;AACD,OAFD,MAEO;AACL,0BAAQC,KAAR,CAAc,YAAd;AACD;AACF,KAND;AAOD,G;;mBAEDC,M,qBAAS;AACP,QAAMC,SAAS,KAAKf,KAAL,CAAWC,UAAX,KAA0B,KAAKD,KAAL,CAAWI,OAApD;AACA,WACE;AAAA;AAAA;AACGW,gBACC;AACE,iBACE;AAAA;AAAA;AAAA;AACS,eAAKf,KAAL,CAAWI,OADpB;AAAA;AAC+C,eAAKJ,KAAL,CAAWC,UAD1D;AAAA;AAGE;AAAA;AAAA;AACE,sBAAO,aADT;AAEE,oBAAK;AAFP;AAAA;AAAA;AAHF,SAFJ;AAaE,oBAbF;AAcE,sBAdF;AAeE,cAAK;AAfP;AAFJ,KADF;AAuBD,G;;;EA5CiCe,gB;;kBAAflB,M","file":"Notify.js","sourceRoot":"C:/Users/DUOYI/Desktop/api/test/vendors","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Alert, message } from 'antd';\n\nexport default class Notify extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newVersion: process.env.version,\n      version: process.env.version\n    };\n  }\n\n  componentDidMount() {\n    axios.get('https://www.easy-mock.com/mock/5c2851e3d84c733cb500c3b9/yapi/versions').then(req => {\n      if (req.status === 200) {\n        this.setState({ newVersion: req.data.data[0] });\n      } else {\n        message.error('无法获取新版本信息！');\n      }\n    });\n  }\n\n  render() {\n    const isShow = this.state.newVersion !== this.state.version;\n    return (\n      <div>\n        {isShow && (\n          <Alert\n            message={\n              <div>\n                当前版本是：{this.state.version}&nbsp;&nbsp;可升级到: {this.state.newVersion}\n                &nbsp;&nbsp;&nbsp;\n                <a\n                  target=\"view_window\"\n                  href=\"https://github.com/YMFE/yapi/blob/master/CHANGELOG.md\"\n                >\n                  版本详情\n                </a>\n              </div>\n            }\n            banner\n            closable\n            type=\"info\"\n          />\n        )}\n      </div>\n    );\n  }\n}\n"]}