{"version":3,"sources":["exts\\yapi-plugin-statistics\\statisticsClientPage\\StatisChart.js"],"names":["StatisChart","props","state","showLoading","chartDate","mockCount","mockDateList","componentWillMount","getMockData","axios","get","result","data","errcode","mockStatisData","setState","render","width","toLocaleString","top","right","left","bottom","r","Component","propTypes"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBAAA;;;;AAIA;;;AADA;;;;AAEA;;;;AACA;;;;IAEMA,W;;;AAGJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,+DACjB,sBAAMA,KAAN,CADiB;;AAEjB,UAAKC,KAAL,GAAa;AACXC,mBAAa,IADF;AAEXC,iBAAW;AACTC,mBAAW,CADF;AAETC,sBAAc;AAFL;AAFA,KAAb;AAFiB;AASlB;;wBAEDC,kB,iCAAqB;AACnB,SAAKC,WAAL;AACD,G;;AAED;;;wBACMA,W;;;;;;;;qBACeC,gBAAMC,GAAN,CAAU,4BAAV,C;;;AAAfC,oB;;AACJ,kBAAIA,OAAOC,IAAP,CAAYC,OAAZ,KAAwB,CAA5B,EAA+B;AACzBC,8BADyB,GACRH,OAAOC,IAAP,CAAYA,IADJ;;AAE7B,qBAAKG,QAAL,CAAc;AACZZ,+BAAa,KADD;AAEZC,wDAAgBU,cAAhB;AAFY,iBAAd;AAID;;;;;;;;;;;;;;;;;wBAGHE,M,qBAAS;AACP,QAAMC,QAAQ,IAAd;AADO,2BAE6B,KAAKf,KAAL,CAAWE,SAFxC;AAAA,QAECC,SAFD,oBAECA,SAFD;AAAA,QAEYC,YAFZ,oBAEYA,YAFZ;;;AAIP,WACE;AAAA;AAAA;AACE;AAAA;AAAA,UAAM,UAAU,KAAKJ,KAAL,CAAWC,WAA3B;AACE;AAAA;AAAA,YAAK,WAAU,sBAAf;AACE;AAAA;AAAA,cAAI,WAAU,cAAd;AAAA;AAA2CE,sBAAUa,cAAV;AAA3C,WADF;AAEE;AAAA;AAAA,cAAK,WAAU,cAAf;AACE;AAAC,iCAAD;AAAA;AACE,uBAAOD,KADT;AAEE,wBAAQ,GAFV;AAGE,sBAAMX,YAHR;AAIE,wBAAQ,EAAEa,KAAK,CAAP,EAAUC,OAAO,EAAjB,EAAqBC,MAAM,EAA3B,EAA+BC,QAAQ,CAAvC;AAJV;AAME,4CAAC,eAAD,IAAO,SAAQ,KAAf,GANF;AAOE,4CAAC,eAAD,OAPF;AAQE,4CAAC,uBAAD,IAAe,iBAAgB,KAA/B,GARF;AASE,4CAAC,iBAAD,OATF;AAUE,4CAAC,gBAAD,OAVF;AAWE,4CAAC,cAAD;AACE,sBAAK,wBADP;AAEE,sBAAK,UAFP;AAGE,yBAAQ,OAHV;AAIE,wBAAO,SAJT;AAKE,2BAAW,EAAEC,GAAG,CAAL;AALb;AAXF;AADF,WAFF;AAuBE;AAAA;AAAA,cAAK,WAAU,eAAf;AAAA;AAAA;AAvBF;AADF;AADF,KADF;AA+BD,G;;;EAjEuBC,gB,UACjBC,S,GAAY,E;kBAmENzB,W","file":"StatisChart.js","sourceRoot":"C:/Users/DUOYI/Desktop/api/test/vendors","sourcesContent":["/**\n * Created by gxl.gao on 2017/10/25.\n */\nimport React, { Component } from 'react';\n// import PropTypes from 'prop-types'\nimport axios from 'axios';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\nimport { Spin } from 'antd';\nclass StatisChart extends Component {\n  static propTypes = {};\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showLoading: true,\n      chartDate: {\n        mockCount: 0,\n        mockDateList: []\n      }\n    };\n  }\n\n  componentWillMount() {\n    this.getMockData();\n  }\n\n  // 获取mock 请求次数信息\n  async getMockData() {\n    let result = await axios.get('/api/plugin/statismock/get');\n    if (result.data.errcode === 0) {\n      let mockStatisData = result.data.data;\n      this.setState({\n        showLoading: false,\n        chartDate: { ...mockStatisData }\n      });\n    }\n  }\n\n  render() {\n    const width = 1050;\n    const { mockCount, mockDateList } = this.state.chartDate;\n\n    return (\n      <div>\n        <Spin spinning={this.state.showLoading}>\n          <div className=\"statis-chart-content\">\n            <h3 className=\"statis-title\">mock 接口访问总数为：{mockCount.toLocaleString()}</h3>\n            <div className=\"statis-chart\">\n              <LineChart\n                width={width}\n                height={300}\n                data={mockDateList}\n                margin={{ top: 5, right: 30, left: 20, bottom: 5 }}\n              >\n                <XAxis dataKey=\"_id\" />\n                <YAxis />\n                <CartesianGrid strokeDasharray=\"7 3\" />\n                <Tooltip />\n                <Legend />\n                <Line\n                  name=\"mock统计值\"\n                  type=\"monotone\"\n                  dataKey=\"count\"\n                  stroke=\"#8884d8\"\n                  activeDot={{ r: 8 }}\n                />\n              </LineChart>\n            </div>\n            <div className=\"statis-footer\">过去3个月mock接口调用情况</div>\n          </div>\n        </Spin>\n      </div>\n    );\n  }\n}\n\nexport default StatisChart;\n"]}