'use strict';

exports.__esModule = true;
exports.default = createStore;

var _redux = require('redux');

var _reduxPromise = require('redux-promise');

var _reduxPromise2 = _interopRequireDefault(_reduxPromise);

var _messageMiddleware = require('./middleware/messageMiddleware');

var _messageMiddleware2 = _interopRequireDefault(_messageMiddleware);

var _reducer = require('./modules/reducer');

var _reducer2 = _interopRequireDefault(_reducer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function createStore() {
  var initialState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  var middleware = [_reduxPromise2.default, _messageMiddleware2.default];

  var finalCreateStore = void 0;
  //if (process.env.NODE_ENV === 'production') {
  finalCreateStore = _redux.applyMiddleware.apply(undefined, middleware)(_redux.createStore);
  // } else {
  //   finalCreateStore = compose(
  //     applyMiddleware(...middleware),
  //     window.devToolsExtension ? window.devToolsExtension() : require('../containers/DevTools/DevTools').instrument()
  //   )(_createStore);
  // }

  var store = finalCreateStore(_reducer2.default, initialState);

  return store;
}