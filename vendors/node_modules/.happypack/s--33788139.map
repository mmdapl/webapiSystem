{"version":3,"sources":["exts\\yapi-plugin-wiki\\wikiPage\\Editor.js"],"names":["require","WikiEditor","props","onUpload","desc","editor","getHtml","markdown","getMarkdown","componentDidMount","Editor","el","document","querySelector","initialEditType","height","initialValue","render","isConflict","onCancel","notice","onEmailNotice","display","Component","propTypes","PropTypes","bool","func","string"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AAEA;;;;;;AACAA,8D,CAAsD;AACtDA,uE,CAA+D;IACzDC,U;;;AACJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA,+DACjB,sBAAMA,KAAN,CADiB;;AAAA,UAsBnBC,QAtBmB,GAsBR,YAAM;AACf,UAAIC,OAAO,MAAKC,MAAL,CAAYC,OAAZ,EAAX;AACA,UAAIC,WAAW,MAAKF,MAAL,CAAYG,WAAZ,EAAf;AACA,YAAKN,KAAL,CAAWC,QAAX,CAAoBC,IAApB,EAA0BG,QAA1B;AACD,KA1BkB;;AAAA;AAElB;;uBAWDE,iB,gCAAoB;AAClB,SAAKJ,MAAL,GAAc,IAAIK,+BAAJ,CAAW;AACvBC,UAAIC,SAASC,aAAT,CAAuB,OAAvB,CADmB;AAEvBC,uBAAiB,SAFM;AAGvBC,cAAQ,OAHe;AAIvBC,oBAAc,KAAKd,KAAL,CAAWE;AAJF,KAAX,CAAd;AAMD,G;;uBAQDa,M,qBAAS;AAAA,iBACiD,KAAKf,KADtD;AAAA,QACCgB,UADD,UACCA,UADD;AAAA,QACaC,QADb,UACaA,QADb;AAAA,QACuBC,MADvB,UACuBA,MADvB;AAAA,QAC+BC,aAD/B,UAC+BA,aAD/B;;AAEP,WACE;AAAA;AAAA;AACE;AACE,YAAG,MADL;AAEE,mBAAU,aAFZ;AAGE,eAAO,EAAEC,SAAS,CAACJ,UAAD,GAAc,OAAd,GAAwB,MAAnC;AAHT,QADF;AAME;AAAA;AAAA,UAAK,WAAU,oBAAf;AACE;AAAA;AAAA;AACE,kBAAK,QADP;AAEE,kBAAK,SAFP;AAGE,uBAAU,YAHZ;AAIE,sBAAUA,UAJZ;AAKE,qBAAS,KAAKf;AALhB;AAAA;AAAA,SADF;AAUE;AAAA;AAAA,YAAQ,SAASgB,QAAjB,EAA2B,WAAU,YAArC;AAAA;AAAA,SAVF;AAaE;AAAA;AAAA,YAAU,SAASC,MAAnB,EAA2B,UAAUC,aAArC;AAAA;AAAA;AAbF;AANF,KADF;AA0BD,G;;;EAzDsBE,gB,UAKhBC,S,GAAY;AACjBN,cAAYO,oBAAUC,IADL;AAEjBvB,YAAUsB,oBAAUE,IAFH;AAGjBR,YAAUM,oBAAUE,IAHH;AAIjBP,UAAQK,oBAAUC,IAJD;AAKjBL,iBAAeI,oBAAUE,IALR;AAMjBvB,QAAMqB,oBAAUG;AANC,C;kBAuDN3B,U","file":"Editor.js","sourceRoot":"C:/Users/DUOYI/Desktop/api/test/vendors","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Checkbox } from 'antd';\nimport Editor from 'common/tui-editor/dist/tui-editor-Editor-all.min.js';\nrequire('common/tui-editor/dist/tui-editor.min.css'); // editor ui\nrequire('common/tui-editor/dist/tui-editor-contents.min.css'); // editor content\nclass WikiEditor extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    isConflict: PropTypes.bool,\n    onUpload: PropTypes.func,\n    onCancel: PropTypes.func,\n    notice: PropTypes.bool,\n    onEmailNotice: PropTypes.func,\n    desc: PropTypes.string\n  };\n\n  componentDidMount() {\n    this.editor = new Editor({\n      el: document.querySelector('#desc'),\n      initialEditType: 'wysiwyg',\n      height: '500px',\n      initialValue: this.props.desc\n    });\n  }\n\n  onUpload = () => {\n    let desc = this.editor.getHtml();\n    let markdown = this.editor.getMarkdown();\n    this.props.onUpload(desc, markdown);\n  };\n\n  render() {\n    const { isConflict, onCancel, notice, onEmailNotice } = this.props;\n    return (\n      <div>\n        <div\n          id=\"desc\"\n          className=\"wiki-editor\"\n          style={{ display: !isConflict ? 'block' : 'none' }}\n        />\n        <div className=\"wiki-title wiki-up\">\n          <Button\n            icon=\"upload\"\n            type=\"primary\"\n            className=\"upload-btn\"\n            disabled={isConflict}\n            onClick={this.onUpload}\n          >\n            更新\n          </Button>\n          <Button onClick={onCancel} className=\"upload-btn\">\n            取消\n          </Button>\n          <Checkbox checked={notice} onChange={onEmailNotice}>\n            通知相关人员\n          </Checkbox>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default WikiEditor;\n"]}