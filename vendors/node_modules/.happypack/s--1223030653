'use strict';

exports.__esModule = true;

var _row = require('antd/lib/row');

var _row2 = _interopRequireDefault(_row);

var _col = require('antd/lib/col');

var _col2 = _interopRequireDefault(_col);

var _stringify = require('babel-runtime/core-js/json/stringify');

var _stringify2 = _interopRequireDefault(_stringify);

var _typeof2 = require('babel-runtime/helpers/typeof');

var _typeof3 = _interopRequireDefault(_typeof2);

var _tabs = require('antd/lib/tabs');

var _tabs2 = _interopRequireDefault(_tabs);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TabPane = _tabs2.default.TabPane;
function jsonFormat(json) {
  // console.log('json',json)
  if (json && (typeof json === 'undefined' ? 'undefined' : (0, _typeof3.default)(json)) === 'object') {
    return (0, _stringify2.default)(json, null, '   ');
  }
  return json;
}

var CaseReport = function CaseReport(props) {
  var params = jsonFormat(props.data);
  var headers = jsonFormat(props.headers, null, '   ');
  var res_header = jsonFormat(props.res_header, null, '   ');
  var res_body = jsonFormat(props.res_body);
  var httpCode = props.status;
  var validRes = void 0;
  if (props.validRes && Array.isArray(props.validRes)) {
    validRes = props.validRes.map(function (item, index) {
      return _react2.default.createElement(
        'div',
        { key: index },
        item.message
      );
    });
  }

  return _react2.default.createElement(
    'div',
    { className: 'report' },
    _react2.default.createElement(
      _tabs2.default,
      { defaultActiveKey: 'request' },
      _react2.default.createElement(
        TabPane,
        { className: 'case-report-pane', tab: 'Request', key: 'request' },
        _react2.default.createElement(
          _row2.default,
          { className: 'case-report' },
          _react2.default.createElement(
            _col2.default,
            { className: 'case-report-title', span: '6' },
            'Url'
          ),
          _react2.default.createElement(
            _col2.default,
            { span: '18' },
            props.url
          )
        ),
        props.query ? _react2.default.createElement(
          _row2.default,
          { className: 'case-report' },
          _react2.default.createElement(
            _col2.default,
            { className: 'case-report-title', span: '6' },
            'Query'
          ),
          _react2.default.createElement(
            _col2.default,
            { span: '18' },
            props.query
          )
        ) : null,
        props.headers ? _react2.default.createElement(
          _row2.default,
          { className: 'case-report' },
          _react2.default.createElement(
            _col2.default,
            { className: 'case-report-title', span: '6' },
            'Headers'
          ),
          _react2.default.createElement(
            _col2.default,
            { span: '18' },
            _react2.default.createElement(
              'pre',
              null,
              headers
            )
          )
        ) : null,
        params ? _react2.default.createElement(
          _row2.default,
          { className: 'case-report' },
          _react2.default.createElement(
            _col2.default,
            { className: 'case-report-title', span: '6' },
            'Body'
          ),
          _react2.default.createElement(
            _col2.default,
            { span: '18' },
            _react2.default.createElement(
              'pre',
              { style: { whiteSpace: 'pre-wrap' } },
              params
            )
          )
        ) : null
      ),
      _react2.default.createElement(
        TabPane,
        { className: 'case-report-pane', tab: 'Response', key: 'response' },
        _react2.default.createElement(
          _row2.default,
          { className: 'case-report' },
          _react2.default.createElement(
            _col2.default,
            { className: 'case-report-title', span: '6' },
            'HttpCode'
          ),
          _react2.default.createElement(
            _col2.default,
            { span: '18' },
            _react2.default.createElement(
              'pre',
              null,
              httpCode
            )
          )
        ),
        props.res_header ? _react2.default.createElement(
          _row2.default,
          { className: 'case-report' },
          _react2.default.createElement(
            _col2.default,
            { className: 'case-report-title', span: '6' },
            'Headers'
          ),
          _react2.default.createElement(
            _col2.default,
            { span: '18' },
            _react2.default.createElement(
              'pre',
              null,
              res_header
            )
          )
        ) : null,
        props.res_body ? _react2.default.createElement(
          _row2.default,
          { className: 'case-report' },
          _react2.default.createElement(
            _col2.default,
            { className: 'case-report-title', span: '6' },
            'Body'
          ),
          _react2.default.createElement(
            _col2.default,
            { span: '18' },
            _react2.default.createElement(
              'pre',
              null,
              res_body
            )
          )
        ) : null
      ),
      _react2.default.createElement(
        TabPane,
        { className: 'case-report-pane', tab: '\u9A8C\u8BC1\u7ED3\u679C', key: 'valid' },
        props.validRes ? _react2.default.createElement(
          _row2.default,
          { className: 'case-report' },
          _react2.default.createElement(
            _col2.default,
            { className: 'case-report-title', span: '6' },
            '\u9A8C\u8BC1\u7ED3\u679C'
          ),
          _react2.default.createElement(
            _col2.default,
            { span: '18' },
            _react2.default.createElement(
              'pre',
              null,
              validRes
            )
          )
        ) : null
      )
    )
  );
};

CaseReport.propTypes = {
  url: _propTypes2.default.string,
  data: _propTypes2.default.any,
  headers: _propTypes2.default.object,
  res_header: _propTypes2.default.object,
  res_body: _propTypes2.default.any,
  query: _propTypes2.default.string,
  validRes: _propTypes2.default.array,
  status: _propTypes2.default.number
};

exports.default = CaseReport;