'use strict';

exports.__esModule = true;

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _icon = require('antd/lib/icon');

var _icon2 = _interopRequireDefault(_icon);

var _class, _temp;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

require('./Intro.scss');

var _rcScrollAnim = require('rc-scroll-anim');

var _rcTweenOne = require('rc-tween-one');

var _rcTweenOne2 = _interopRequireDefault(_rcTweenOne);

var _rcQueueAnim = require('rc-queue-anim');

var _rcQueueAnim2 = _interopRequireDefault(_rcQueueAnim);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var IntroPart = function IntroPart(props) {
  return _react2.default.createElement(
    'li',
    { className: 'switch-content' },
    _react2.default.createElement(
      'div',
      { className: 'icon-switch' },
      _react2.default.createElement(_icon2.default, { type: props.iconType })
    ),
    _react2.default.createElement(
      'div',
      { className: 'text-switch' },
      _react2.default.createElement(
        'p',
        null,
        _react2.default.createElement(
          'b',
          null,
          props.title
        )
      ),
      _react2.default.createElement(
        'p',
        null,
        props.des
      )
    )
  );
};

IntroPart.propTypes = {
  title: _propTypes2.default.string,
  des: _propTypes2.default.string,
  iconType: _propTypes2.default.string
};

var Intro = (_temp = _class = function (_React$PureComponent) {
  (0, _inherits3.default)(Intro, _React$PureComponent);

  function Intro(props) {
    (0, _classCallCheck3.default)(this, Intro);
    return (0, _possibleConstructorReturn3.default)(this, _React$PureComponent.call(this, props));
  }

  Intro.prototype.render = function render() {
    var intro = this.props.intro;

    var id = 'motion';
    var animType = {
      queue: 'right',
      one: { x: '-=30', opacity: 0, type: 'from' }
    };
    return _react2.default.createElement(
      'div',
      { className: 'intro-container' },
      _react2.default.createElement(
        _rcScrollAnim.OverPack,
        { playScale: '0.3' },
        _react2.default.createElement(
          _rcTweenOne2.default,
          {
            animation: animType.one,
            key: id + '-img',
            resetStyleBool: true,
            id: id + '-imgWrapper',
            className: 'imgWrapper'
          },
          _react2.default.createElement(
            'div',
            { className: 'img-container', id: id + '-img-container' },
            _react2.default.createElement('img', { src: intro.img })
          )
        ),
        _react2.default.createElement(
          _rcQueueAnim2.default,
          {
            type: animType.queue,
            key: id + '-text',
            leaveReverse: true,
            ease: ['easeOutCubic', 'easeInCubic'],
            id: id + '-textWrapper',
            className: id + '-text des-container textWrapper'
          },
          _react2.default.createElement(
            'div',
            { key: id + '-des-content' },
            _react2.default.createElement(
              'div',
              { className: 'des-title' },
              intro.title
            ),
            _react2.default.createElement(
              'div',
              { className: 'des-detail' },
              intro.des
            )
          ),
          _react2.default.createElement(
            'ul',
            { className: 'des-switch', key: id + '-des-switch' },
            intro.detail.map(function (item, i) {
              return _react2.default.createElement(IntroPart, { key: i, title: item.title, des: item.des, iconType: item.iconType });
            })
          )
        )
      )
    );
  };

  return Intro;
}(_react2.default.PureComponent), _class.propTypes = {
  intro: _propTypes2.default.shape({
    title: _propTypes2.default.string,
    des: _propTypes2.default.string,
    img: _propTypes2.default.string,
    detail: _propTypes2.default.arrayOf(_propTypes2.default.shape({
      title: _propTypes2.default.string,
      des: _propTypes2.default.string
    }))
  }),
  className: _propTypes2.default.string
}, _temp);
exports.default = Intro;